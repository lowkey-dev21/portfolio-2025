---
import { Image } from 'astro:assets';
import ScreenWrapper from './ScreenWrapper.astro';
import lowkeyLogo from '../../assets/lowkey.svg';

const { pathname } = Astro.url
const navLinks = [
	{name: "Home", href: "/"}	,
	{ name: 'About Me', href: '/about' },
	{ name: 'Portfolio', href: '/portfolio' },
	{ name: 'Services', href: '/services' },
	// { name: 'Blog', href: '/blog' },
];
---

<script>
const nav: any = document.querySelector("#nav")
const close_nav : any = document.querySelector("#close_nav")
const mobileMenu: any = document.querySelector("#mobile-menu")

nav.addEventListener("click", ()=>{
    const nav_button: any = document.getElementById("nav")
    nav_button.classList.add("hidden")
    close_nav.classList.remove("hidden")
    mobileMenu.classList.remove("hidden")
});

close_nav.addEventListener("click", ()=>{
    const nav_button: any = document.getElementById("nav")
    nav_button.classList.remove("hidden")
    close_nav.classList.add("hidden")
    mobileMenu.classList.add("hidden")
});
</script>


<header class="fixed top-0 left-0 z-50 w-full bg-[#f8f8f8] py-[0.5rem]">
	<ScreenWrapper class="flex items-center justify-between px-4 sm:px-8 md:px-[6rem]">
		<div class="flex items-center gap-[2rem]">
			<a href="/">
				<Image width={120} height={120} src={lowkeyLogo} alt="Lowkey Logo" />
			</a>

			<nav class="hidden md:block">
				<ul class="flex gap-[4rem]">
					{navLinks.map((link) => (
						<li>
							<a href={link.href} class={`${(pathname === link.href || (link.href === '/' && (pathname === '' || pathname === '/'))) ? 'text-blue-500' : 'text-gray-700'} md:hidden lg:flex hover:text-blue-500`}>
								{link.name}
							</a>
						</li>
					))}
				</ul>
			</nav>
		</div>

		<div class="flex items-center gap-4">
			<a href="mailto:muizoyetola8@gmail.com" class="text-gray-700 items-center underline lg:flex hidden">
				<span>
					Book A Call
				</span>
				<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13 5h6m0 0v6m0-6L5 19"/></svg>
			</a>

			<svg id="nav" class="lg:hidden cursor-pointer" xmlns="http://www.w3.org/2000/svg" width="35" height="35" viewBox="0 0 24 24"><path fill="currentColor" d="M3.75 6.5a.75.75 0 0 1 .75-.75h15a.75.75 0 0 1 0 1.5h-15a.75.75 0 0 1-.75-.75m0 5.5a.75.75 0 0 1 .75-.75h15a.75.75 0 0 1 0 1.5h-15a.75.75 0 0 1-.75-.75m0 5.5a.75.75 0 0 1 .75-.75h15a.75.75 0 0 1 0 1.5h-15a.75.75 0 0 1-.75-.75"/></svg>
			
			<svg id="close_nav" class="hidden cursor-pointer" xmlns="http://www.w3.org/2000/svg" width="35" height="35" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 18L18 6m0 12L6 6"/></svg>
		</div>
	</ScreenWrapper>

	<!-- Mobile Navigation Menu -->
	<div id="mobile-menu" class="hidden fixed top-[3rem] left-0 w-full bg-[#f8f8f8] shadow-md z-50 animate-on-load fade-in">
		<ScreenWrapper class="py-6 px-8">
			<nav>
				<ul class="flex flex-col gap-6">
					{navLinks.map((link) => (
						<li class="border-b border-gray-200 pb-4">
							<a href={link.href} class={`${(pathname === link.href || (link.href === '/' && (pathname === '' || pathname === '/'))) ? 'text-blue-500' : 'text-gray-700'} text-xl font-medium hover:text-blue-500 flex items-center justify-between`}>
								{link.name}
								<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M8.59 16.59L13.17 12L8.59 7.41L10 6l6 6l-6 6l-1.41-1.41z"/></svg>
							</a>
						</li>
					))}
					<li class="pt-4">
						<a href="mailto:muizoyetola8@gmail.com" class="text-gray-700 flex items-center justify-between text-xl font-medium hover:text-blue-500">
							Book A Call
							<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M8.59 16.59L13.17 12L8.59 7.41L10 6l6 6l-6 6l-1.41-1.41z"/></svg>
						</a>
					</li>
				</ul>
			</nav>
		</ScreenWrapper>
	</div>
</header>
